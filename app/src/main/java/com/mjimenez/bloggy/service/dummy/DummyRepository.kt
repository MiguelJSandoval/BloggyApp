package com.mjimenez.bloggy.service.dummy

import com.mjimenez.bloggy.service.model.Post
import kotlinx.coroutines.delay

object DummyRepository {
    private val posts = mutableListOf(
        Post(
            postId = "1",
            title = "Hola mundo",
            author = "Miguel Angel",
            date = "08/11/2023",
            content = "Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce."
        ),
        Post(
            postId = "2",
            title = "Hola mundo 2",
            author = "Miguel Jim√©nez",
            date = "08/11/2023",
            content = "Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce.Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. Lorem ipsum dolor sit amet consectetur adipiscing elit malesuada, mus neque dignissim quam leo per tellus, vel accumsan scelerisque class nascetur consequat fusce. aaaaaaa"
        )
    )

    suspend fun getAllData(): List<Post> {
        delay(500)
        return posts
    }

    suspend fun filterData(query: String?): List<Post> {
        delay(500)

        if (query.isNullOrBlank())
            return emptyList()

        return posts.filter { post ->
            val regex = query.toRegex(RegexOption.IGNORE_CASE)
            regex.containsMatchIn(post.title) || regex.containsMatchIn(post.author) || regex.containsMatchIn(
                post.content
            )
        }
    }

    fun append(post: Post) {
        posts.add(post)
    }
}
